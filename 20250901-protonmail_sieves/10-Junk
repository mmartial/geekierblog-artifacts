require ["include", "environment", "variables", "relational", "comparator-i;ascii-numeric", "spamtest", "fileinto", "reject"];

# Generated: Do not run this script on spam messages
if allof (environment :matches "vnd.proton.spam-threshold" "*",
spamtest :value "ge" :comparator "i;ascii-numeric" "${1}")
{
    return;
}

# Move to Junk folder/label (folder/label must exist)
# Here to avoid having to use the Protonmail web interface to block senders
if anyof (
# from a specific domain (recommended to sort by domain)
	address :domain :is "from" "badspammer.tld",
#	address :domain :is "from" "",

# Direct email match (recommended to sort by domain)
	address :is "from" "spammer@distrustedsite.tld"
#	address :is "from" "",
) {
  fileinto "Junk"; # Move to Junk folder (or label)
  stop; # Do not continue to the next rule
}

if anyof (
# copy from Junk rule above as needed
    address :domain :is "from" "dicardedemail.tld"
) {
  discard; # Discard the email
}

#if anyof (
#    address :is "from" "rejectemail.tld"
#) {
#  reject "Thou Shall Not Pass";
#}
